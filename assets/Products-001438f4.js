import{r as c,f as E,z as L,j as n,F as I,a as e,i as U,N as B,S as $,_ as A}from"./index-414ac27f.js";import{P as F}from"./ProductCard-7ca07186.js";import{i as M}from"./discountCalculate-a1481388.js";import{u as G}from"./categoriesApi-6fa44040.js";import"./wishListApi-3f765d3f.js";const p=(s,r,l)=>{const i=s.split("&");let d=!1;for(let a=0;a<i.length;a++){const o=i[a].split("=");if(o[0]===r){o[1]=l,i[a]=o.join("="),d=!0;break}}return d||i.push(`${r}=${l}`),i.join("&")},V=(s,r,l,i)=>{let d=[...l];if(s)r([...l,{_id:i._id,name:i.name,checked:!0}]),d.push(i);else{const o=l.filter(b=>b._id!==i._id);r(o),d=o}const u=[];return d.forEach(o=>{o.name.length>0&&u.push(o.name)}),u.join(",")},P=()=>{var S;const[s,r]=c.useState(0),[l,i]=c.useState(0),d=E(),u=L().search||"?",[a,o]=c.useState([{_id:"",name:""}]),[b,x]=c.useState([{_id:"",name:"",checked:!1}]),k=[{_id:"1",name:"md"},{_id:"2",name:"lg"},{_id:"3",name:"xl"}],N=[{_id:"1",name:"red"},{_id:"2",name:"green"},{_id:"3",name:"black"},{_id:"4",name:"orange"},{_id:"5",name:"yellow"},{_id:"6",name:"wood"}],{data:f,isLoading:v,isError:C}=G(),y=(t,h)=>{const g=V(t.target.checked,o,a,h),j=p(u,"size",g);d(j)},w=(t,h)=>{const g=V(t.target.checked,x,b,h),j=p(u,"color",g);d(j)},_=t=>{t.preventDefault();const h=`${s}-${l}`,g=p(u,"price",h);d(g)},m=t=>{const h=p(u,"price",t);console.log(h),d(h)};return n(I,{children:[e("div",{className:"flex justify-between pt-2 pb-4 text-[#333] font-bold items-center",children:e("label",{children:"Filter :"})}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] text-[1rem] border-b border-[#333]",children:"All Categories"})}),v?e(U,{}):e("ul",{className:"collapse-content",children:(S=f==null?void 0:f.result)==null?void 0:S.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] ",children:e(B,{to:p(u,"category",t._id),children:t.title})}))})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Price"})}),n("ul",{className:"collapse-content cursor-pointer",children:[e("li",{onClick:()=>m("0-200"),className:"pt-2.5 transition-colors hover:text-[#ff4949]",children:e("div",{children:"0.00 - 200"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>m("200-500"),children:e("div",{children:"200 - 500"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>m("500-1000"),children:e("div",{children:"500 - 1000"})}),n("form",{onSubmit:t=>_(t),className:"flex items-center gap-2 my-2.5 text-[#999]",children:[e("input",{type:"number",name:"min_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:s,onChange:t=>r(parseInt(t.target.value)),placeholder:"$min"}),e("span",{className:"delimiter",children:"-"}),e("input",{type:"number",name:"max_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:l,onChange:t=>i(parseInt(t.target.value)),placeholder:"$max"}),e("button",{type:"submit",className:"btn  btn-primary btn-sm rounded-none  ml-2 ",children:"Go"})]})]})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Size"})}),e("ul",{className:"collapse-content",children:k.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:n("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer ",children:[e("input",{type:"checkbox",checked:t.checked,className:"checkbox checkbox-sm rounded-none ",onChange:h=>{y(h,t)}})," ",t.name]})},t._id))})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Color"})}),e("ul",{className:"collapse-content",children:N.map(t=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:n("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer",children:[e("input",{type:"checkbox",className:"checkbox checkbox-sm rounded-none",onChange:h=>{w(h,t)}})," ",t.name]})},t._id))})]})]})};var z=c.forwardRef(function(s,r){var l={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return c.createElement($,A({iconAttrs:l,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},s,{ref:r}),c.createElement("g",{"data-name":"Layer 2"},c.createElement("g",{"data-name":"menu-2"},c.createElement("circle",{cx:4,cy:12,r:1}),c.createElement("rect",{width:14,height:2,x:7,y:11,rx:.94,ry:.94}),c.createElement("rect",{width:18,height:2,x:3,y:16,rx:.94,ry:.94}),c.createElement("rect",{width:18,height:2,x:3,y:6,rx:.94,ry:.94}))))});z.displayName="Menu2";const W=[{_id:"1",name:"Default sorting",value:""},{_id:"2",name:"Sort by latest",value:"newest"},{_id:"3",name:"Sort price law to high",value:"price-asc"},{_id:"4",name:"Sort price high to law",value:"price-desc"}],D=[{_id:"1",name:"Show 12",value:12},{_id:"2",name:"Show 24",value:24},{_id:"3",name:"Show 36",value:36},{_id:"4",name:"Show 50",value:50}],Q=()=>{const s=E();return n("nav",{className:"flex justify-between flex-wrap items-center pb-2.5",children:[n("div",{className:"toolbox-left flex items-center flex-wrap gap-5",children:[n("button",{className:"btn btn-info btn-outline rounded-md btn-sm",children:[e(z,{size:24,className:"mr-2"}),e("span",{children:"Filters"})]}),n("div",{className:"flex text-[#333] font-bold items-center",children:[e("label",{className:"mr-2",children:"Sort By :"}),e("select",{name:"orderby",className:"form-control select select-bordered rounded-sm select-sm w-[10rem] focus:outline-none max-w-none border border-[#d7d7d7]",onChange:r=>{const l=p(location.search,"sort",r.target.value);s(l)},children:W.map(r=>e("option",{value:r.value,defaultValue:"selected",children:r.name},r._id))})]})]}),n("div",{className:"toolbox-right",children:[e("div",{className:"toolbox-item toolbox-show select-box",children:e("select",{name:"count",className:"select select-bordered rounded-sm focus:outline-none max-w-none border border-[#d7d7d7]",onChange:r=>{const l=p(location.search,"limit",r.target.value);s(l)},children:D.map(r=>e("option",{value:r.value,defaultValue:"selected",children:r.name},r._id))})}),n("div",{className:"toolbox-item toolbox-layout",children:[e("a",{href:"shop-banner-sidebar.html",className:"icon-mode-grid btn-layout active",children:e("i",{className:"w-icon-grid"})}),e("a",{href:"shop-list.html",className:"icon-mode-list btn-layout",children:e("i",{className:"w-icon-list"})})]})]})]})};function J(){var N,f,v,C,y,w,_;const s=L(),[r,l]=c.useState(!0),[i,d]=c.useState(1),u=E(),{data:a,isLoading:o,isError:b}=M(s.search,{skip:r});c.useEffect(()=>{s.search&&l(!1)},[s]);let x=null;o&&(x=e(U,{})),!o&&b&&(x=e("p",{className:"text-center text-red-400 md:text-xl",children:"There was something wrong!"})),!o&&!b&&((f=(N=a==null?void 0:a.result)==null?void 0:N.data)==null?void 0:f.length)===0&&(x=n("div",{className:"text-center",children:[e("p",{className:"text-xl font-bold",children:"Search No Results"}),e("p",{children:"We're sorry. We cannot find any matches for your search term."})]})),!o&&!b&&((C=(v=a==null?void 0:a.result)==null?void 0:v.data)==null?void 0:C.length)>0&&(x=(w=(y=a==null?void 0:a.result)==null?void 0:y.data)==null?void 0:w.map(m=>e(F,{product:m},m._id)));let k=a!=null&&a.result?Array.from({length:(_=a==null?void 0:a.result)==null?void 0:_.totalPageNumber},(m,S)=>S+1):[];return e("div",{className:"container",children:n("div",{className:"grid grid-cols-12 gap-4",children:[e("aside",{className:"col-span-12 md:col-span-3 px-4",children:e(P,{})}),n("div",{className:"col-span-12 md:col-span-9 ",children:[e(Q,{}),n("div",{children:[e("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-4 mb-4",children:x}),e("div",{className:"flex justify-end my-2",children:e("div",{className:"btn-group ",children:k.map(m=>e("button",{onClick:()=>{d(m),u(p(s.search,"page",m.toString()))},className:`btn btn-sm btn-outline ${i===m?"btn-active btn-error":""}`,children:m}))})})]})]})]})})}export{J as default};
