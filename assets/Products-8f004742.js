import{r as d,f as j,B as U,j as n,F as z,a as e,i as L,N as I,S as $,_ as A}from"./index-a2cf8386.js";import{P as F}from"./ProductCard-b4934fe0.js";import{i as M}from"./discountCalculate-d2d0ec90.js";import{u as G}from"./categoriesApi-a12b9e46.js";import"./wishListApi-09f5984a.js";const p=(c,a,l)=>{const i=c.split("&");let t=!1;for(let h=0;h<i.length;h++){const s=i[h].split("=");if(s[0]===a){s[1]=l,i[h]=s.join("="),t=!0;break}}return t||i.push(`${a}=${l}`),i.join("&")},E=(c,a,l,i)=>{let t=[...l];if(c)a([...l,{_id:i._id,name:i.name,checked:!0}]),t.push(i);else{const s=l.filter(g=>g._id!==i._id);a(s),t=s}const o=[];return t.forEach(s=>{s.name.length>0&&o.push(s.name)}),o.join(",")},P=()=>{var V;const[c,a]=d.useState(0),[l,i]=d.useState(0),t=j(),o=U().search||"?",[h,s]=d.useState([{_id:"",name:""}]),[g,f]=d.useState([{_id:"",name:"",checked:!1}]),N=[{_id:"1",name:"md"},{_id:"2",name:"lg"},{_id:"3",name:"xl"}],v=[{_id:"1",name:"red"},{_id:"2",name:"green"},{_id:"3",name:"black"},{_id:"4",name:"orange"},{_id:"5",name:"yellow"},{_id:"6",name:"wood"}],{data:b,isLoading:y,isError:_}=G(),w=(r,m)=>{const x=E(r.target.checked,s,h,m),C=p(o,"size",x);t(C)},u=(r,m)=>{const x=E(r.target.checked,f,g,m),C=p(o,"color",x);t(C)},S=r=>{r.preventDefault();const m=`${c}-${l}`,x=p(o,"price",m);console.log(o),t(x)},k=r=>{const m=p(o,"price",r);console.log(m),t(m)};return n(z,{children:[e("div",{className:"flex justify-between pt-2 pb-4 text-[#333] font-bold items-center",children:e("label",{children:"Filter :"})}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] text-[1rem] border-b border-[#333]",children:"All Categories"})}),y?e(L,{}):e("ul",{className:"collapse-content",children:(V=b==null?void 0:b.result)==null?void 0:V.map(r=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] ",children:e(I,{to:p(o,"category",r._id),children:r.title})}))})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Price"})}),n("ul",{className:"collapse-content cursor-pointer",children:[e("li",{onClick:()=>k("0-200"),className:"pt-2.5 transition-colors hover:text-[#ff4949]",children:e("div",{children:"0.00 - 200"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>k("200-500"),children:e("div",{children:"200 - 500"})}),e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] cursor-pointer",onClick:()=>k("500-1000"),children:e("div",{children:"500 - 1000"})}),n("form",{onSubmit:r=>S(r),className:"flex items-center gap-2 my-2.5 text-[#999]",children:[e("input",{type:"number",name:"min_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:c,onChange:r=>a(parseInt(r.target.value)),placeholder:"$min"}),e("span",{className:"delimiter",children:"-"}),e("input",{type:"number",name:"max_price",className:"p-1.5 text-center items-center w-16 border border-[#999] focus:outline-none h-8",value:l,onChange:r=>i(parseInt(r.target.value)),placeholder:"$max"}),e("button",{type:"submit",className:"btn  btn-primary btn-sm rounded-none  ml-2 ",children:"Go"})]})]})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Size"})}),e("ul",{className:"collapse-content",children:N.map(r=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:n("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer ",children:[e("input",{type:"checkbox",checked:r.checked,className:"checkbox checkbox-sm rounded-none ",onChange:m=>{w(m,r)}})," ",r.name]})},r._id))})]}),n("div",{tabIndex:0,className:"collapse collapse-plus border-r border-base-300 bg-base-100 rounded-sm",children:[e("input",{type:"checkbox",className:"peer"}),e("h3",{className:"collapse-title text-lg font-semibold border-b border-[#eee] px-0",children:e("label",{className:"py-[1rem] border-b border-[#333] text-[1rem]",children:"Color"})}),e("ul",{className:"collapse-content",children:v.map(r=>e("li",{className:"pt-2.5 transition-colors hover:text-[#ff4949] underline",children:n("label",{className:"inline-flex items-center gap-2 mt-2 cursor-pointer",children:[e("input",{type:"checkbox",className:"checkbox checkbox-sm rounded-none",onChange:m=>{u(m,r)}})," ",r.name]})},r._id))})]})]})};var B=d.forwardRef(function(c,a){var l={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement($,A({iconAttrs:l,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},c,{ref:a}),d.createElement("g",{"data-name":"Layer 2"},d.createElement("g",{"data-name":"menu-2"},d.createElement("circle",{cx:4,cy:12,r:1}),d.createElement("rect",{width:14,height:2,x:7,y:11,rx:.94,ry:.94}),d.createElement("rect",{width:18,height:2,x:3,y:16,rx:.94,ry:.94}),d.createElement("rect",{width:18,height:2,x:3,y:6,rx:.94,ry:.94}))))});B.displayName="Menu2";const W=[{_id:"1",name:"Default sorting",value:""},{_id:"2",name:"Sort by latest",value:"newest"},{_id:"3",name:"Sort price law to high",value:"price-asc"},{_id:"4",name:"Sort price high to law",value:"price-desc"}],D=[{_id:"1",name:"Show 12",value:12},{_id:"2",name:"Show 24",value:24},{_id:"3",name:"Show 36",value:36},{_id:"4",name:"Show 50",value:50}],Q=()=>{const c=j();return n("nav",{className:"flex justify-between flex-wrap items-center pb-2.5",children:[n("div",{className:"toolbox-left flex items-center flex-wrap gap-5",children:[n("button",{className:"btn btn-info btn-outline rounded-md btn-sm",children:[e(B,{size:24,className:"mr-2"}),e("span",{children:"Filters"})]}),n("div",{className:"flex text-[#333] font-bold items-center",children:[e("label",{className:"mr-2",children:"Sort By :"}),e("select",{name:"orderby",className:"form-control select select-bordered rounded-sm select-sm w-[10rem] focus:outline-none max-w-none border border-[#d7d7d7]",onChange:a=>{const l=p(location.search,"sort",a.target.value);c(l)},children:W.map(a=>e("option",{value:a.value,defaultValue:"selected",children:a.name},a._id))})]})]}),n("div",{className:"toolbox-right",children:[e("div",{className:"toolbox-item toolbox-show select-box",children:e("select",{name:"count",className:"select select-bordered rounded-sm focus:outline-none max-w-none border border-[#d7d7d7]",onChange:a=>{const l=p(location.search,"limit",a.target.value);c(l)},children:D.map(a=>e("option",{value:a.value,defaultValue:"selected",children:a.name},a._id))})}),n("div",{className:"toolbox-item toolbox-layout",children:[e("a",{href:"shop-banner-sidebar.html",className:"icon-mode-grid btn-layout active",children:e("i",{className:"w-icon-grid"})}),e("a",{href:"shop-list.html",className:"icon-mode-list btn-layout",children:e("i",{className:"w-icon-list"})})]})]})]})};function J(){var f,N,v,b,y,_,w;const c=U(),[a,l]=d.useState(1),i=j(),{data:t,isLoading:o,isError:h}=M(c.search);console.log(o,"searchLoading");let s=null;o&&(s=e(L,{})),!o&&h&&(s=e("p",{className:"text-center text-red-400 md:text-xl",children:"There was something wrong!"})),!o&&!h&&((N=(f=t==null?void 0:t.result)==null?void 0:f.data)==null?void 0:N.length)===0&&(s=n("div",{className:"text-center",children:[e("p",{className:"text-xl font-bold",children:"Search No Results"}),e("p",{children:"We're sorry. We cannot find any matches for your search term."})]})),!o&&!h&&((b=(v=t==null?void 0:t.result)==null?void 0:v.data)==null?void 0:b.length)>0&&(s=(_=(y=t==null?void 0:t.result)==null?void 0:y.data)==null?void 0:_.map(u=>e(F,{product:u},u._id)));let g=t!=null&&t.result?Array.from({length:(w=t==null?void 0:t.result)==null?void 0:w.totalPageNumber},(u,S)=>S+1):[];return e("div",{className:"container",children:n("div",{className:"grid grid-cols-12 gap-4",children:[e("aside",{className:"col-span-12 md:col-span-3 px-4",children:e(P,{})}),n("div",{className:"col-span-12 md:col-span-9 ",children:[e(Q,{}),n("div",{children:[e("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-10 gap-4 mb-4",children:s}),e("div",{className:"flex justify-end my-2",children:e("div",{className:"btn-group ",children:g.map(u=>e("button",{onClick:()=>{l(u),i(p(c.search,"page",u.toString()))},className:`btn btn-sm btn-outline ${a===u?"btn-active btn-error":""}`,children:u}))})})]})]})]})})}export{J as default};
